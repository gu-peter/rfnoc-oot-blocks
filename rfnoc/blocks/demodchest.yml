#
# This file was auto-generated by rfnoc_modtool. It is recommended to edit this
# file and make any desired modifications, then remove this comment.
#
schema: rfnoc_modtool_args
module_name: demodchest    # It is good practice to make this name match the filename, but it is not a requirement
version: "1.0"
rfnoc_version: "1.0"
chdr_width: 64
noc_id: 0xde30

# List all block parameters here.
#parameters:
#  param1: foo
#  param2: bar

# List all clocks required for this RFNoC block. rfnoc_chdr and rfnoc_ctrl
# are always required and available.
clocks:
  - name: rfnoc_chdr
  - name: rfnoc_ctrl
  - name: ce

# A control interface is always required. This is used for the control
# traffic between host software and this RFNoC block on the FPGA.
control:
  fpga_iface: ctrlport
  interface_direction: slave
  # The FIFO depth determines how many commands may be queued up.
  fifo_depth: 32
  # The clock domain of this control interface must be one of the domains
  # listed in the 'clocks' section.
  clk_domain: rfnoc_chdr
  ctrlport:
    byte_mode: False
    # Set to True if this RFNoC block understands timed commands.
    timed: False
    # Set to True if your block returns a controlport status response.
    has_status: False

data:
  # The FPGA interface defines how the block IP handles data streams.
  fpga_iface: axis_data
  # The clock domain must be either rfnoc_chdr or an additional clock as
  # provided in the 'clocks' section.
  clk_domain: rfnoc_chdr
  inputs:
    # This will generate one or more ports all called 'in'. It is also
    # possible to have multiple ports with different names.
    in:
      # The number of ports sub-summed under 'in'. This may also be a mako
      # expression, or a name of a parameter.
      num_ports: 1
      item_width: unknown
      nipc: 1
      info_fifo_depth: 32
      payload_fifo_depth: 32
      format: sc16
  outputs:
    # This will generate one or more ports all called 'out'. It is also
    # possible to have multiple ports with different names.
    out:
      num_ports: 1
      item_width: 32
      nipc: 1
      info_fifo_depth: 32
      sideband_at_end: True
      payload_fifo_depth: 2**32
      format: sc16

fpga_includes:
  - include: "fpga/oot-blocks/rfnoc_block_demodchest/Makefile.srcs"
    make_var: "$(RFNOC_BLOCK_DEMODCHEST_SRCS)"
    # Because this block requires external IP, we also list that here.
  - include: "fpga/oot-blocks/ip/Demodulat_ip_0/Makefile.inc"
    # Like above, this is the Make variable that lists the sources for the IP
    # we require here.
    make_var: "$(LIB_IP_DEMODULAT_IP_0_SRCS)"